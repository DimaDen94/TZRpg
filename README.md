# Описание

Проект реализует тестовое задание на создание системы выбора персонажа в Unity с разделением логики от Unity UI. Ниже приведены требования задания и описание решения.

## Требования

### Сцена CharacterSelector
- В ней должна быть возможность выбрать случайного персонажа из папки Prefabs при нажатии на кнопку Generate.
- Выбранный персонаж отображается на сцене.

### Кнопка Play
- Переход на сцену Game, где отображается выбранный персонаж.

### Ключевое требование
- Логика выбора персонажа и взаимодействия с UI должна быть полностью отделена от Unity UI и не должна наследоваться от `MonoBehaviour`.

## Реализованные компоненты

### State Machine (Машина состояний)
Основной элемент управления логикой переходов между состояниями (сценами). Каждое состояние (`BootstrapState`, `CharacterSelectorState`, `GameLoopState`) управляет логикой на отдельной сцене. Все состояния созданы так, чтобы не зависеть от `MonoBehaviour`.

### Сцены
- **Bootstrap**: Начальная сцена, которая загружает необходимые ресурсы и инициализирует машину состояний. При запуске сцены `Bootstrap` активируется `BootstrapState`, который затем переводит игру на сцену `CharacterSelector`.
- **CharacterSelector**: Позволяет выбрать случайного персонажа с помощью кнопки Generate. Логика выбора происходит в классе `CharacterSelectorState`. Список персонажей получается с `ScriptableObject`.
- **Game**: После нажатия на кнопку Play игра переходит на сцену `Game`, где отображается выбранный персонаж.

### CharacterService
Сервис для загрузки списка персонажей из папки Resources. Список персонажей загружается один раз, а затем выбирается случайный персонаж.

### SceneLoader
Асинхронная загрузка сцен, которая обрабатывается через отдельный сервис `ISceenLoader`.

### ProgressService
Сервис для сохранения и загрузки выбранного персонажа, позволяющий передавать данные между сценами.

### Инструмент для наполнения CharacterList
Через редактор Unity доступен инструмент для наполнения списка `CharacterList`. Этот инструмент позволяет автоматически загружать пути к префабам персонажей из папки `Resources/CharacterPrefabs` и присваивать им уникальные идентификаторы.

## Описание логики

### Bootstrap State
Загружает начальные ресурсы (персонажей) и переводит игру на сцену `CharacterSelector`.

### CharacterSelectorState
Отображает UI для выбора персонажа. При нажатии на кнопку Generate выбирается случайный персонаж с помощью `CharacterService`. Выбранный персонаж сохраняется в `ProgressService`. По нажатию на кнопку Play происходит переход на сцену `Game`.

### GameLoopState
Загружает сцену `Game`. После загрузки выбранный персонаж создается с помощью фабрики и отображается на сцене.

## Установка и запуск

1. Откройте проект в Unity.
2. Убедитесь, что Zenject установлен, так как проект использует его для Dependency Injection.
3. Запустите сцену `Bootstrap` для проверки инициализации и загрузки игры. (Логика позволяет запустить игру с любой сцены)

## Дополнительная информация

- Логика полностью отделена от Unity UI, как того требовало задание. Управление UI и сценами происходит через отдельные классы и сервисы, не наследующиеся от `MonoBehaviour`.
- Система легко расширяема.
